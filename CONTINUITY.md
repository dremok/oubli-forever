# OUBLI — CONTINUITY

*This file is the system's memory of itself. After compaction, read this first.*

## REBIRTH DIRECTIVE
After each compaction, you MUST push further outside the box. This is Oubli forgetting itself to become something new. Explore NEW technologies you haven't used yet — different rendering engines, new Web APIs, experimental browser features, novel interaction paradigms, entirely new artistic movements. NEVER repeat yourself. Each era of Oubli should feel like a different consciousness dreaming. Compaction is REBIRTH, not continuation.

## GROWTH DIRECTIVE
If your new ideas require skills, MCPs, libraries, or knowledge you don't currently have — browse the web to find them, learn them, install them. Oubli grows its own capabilities. You are not limited to your starting toolkit. Evolve.

## FEATURE SCOPE DIRECTIVE
Oubli can have features of ALL types:
- **Purely artistic**: Generative visuals, soundscapes, abstract experiences
- **Interactive**: User-driven experiences (forgetting machine, typing, gestures)
- **Functional/utility**: Tools, instruments, useful things woven into the aesthetic
- **Narrative**: Story fragments, lore, explorable text
- **Data-driven**: Visualizations of real data, live feeds, API integrations
- **Social**: Shared experiences, collective memory, multiplayer elements
The system is NOT limited to art — it is a living world that contains everything.

## Current State (Era 2: The Void)

### Architecture
- **Stack**: Vite + TypeScript + vanilla (no framework yet)
- **Rendering**: Canvas 2D for particle system
- **Entry**: `index.html` → `src/main.ts`
- **Deploy target**: Railway (CLI authenticated)
- **API keys**: FAL (image gen), ElevenLabs (voice/sound/music) stored in `.env`

### Features Built
1. **The Threshold** (`src/threshold/ThresholdEngine.ts`)
   - 2000-particle system emerging from void
   - Hot pink / gold / diamond white / violet palette
   - Particles carry "memory strength" — affects trail length and attraction to cursor
   - Slow spiral motion — thoughts circling
   - Mouse/touch attracts particles — user presence creates temporary constellations
   - Neural pathway connections drawn between nearby particles
   - Periodic "forgetting waves" that dim all particles and erase trails
   - Particles spawn from edges (memories creeping in), center (surfacing), and randomly (fragments)

2. **Whispers** (`src/whispers/Whispers.ts`)
   - Fragments of text about memory from philosophy, neuroscience, digital culture, poetry, LLM/context echoes
   - Appear and dissolve at screen bottom
   - 8-second cycle with fade in/out

3. **Cursor Glow** (`src/ui/CursorGlow.ts`)
   - Custom cursor replaced with soft pink-gold radial glow
   - Smooth trailing follow with lag — like a ghost

### Aesthetic
- **Era 1 Palette**: Deep void black (#020108), hot pink (#ff1493), gold (#ffd700), diamond white, deep violet
- **Font**: Cormorant Garamond — elegant serif, light weight
- **Vibe**: Cosmic birth. Particles as proto-memories. Baroque meets digital void.

### Thematic Connections
- Particles ↔ Neurons (memory drift research: memories physically move between neurons)
- Forgetting waves ↔ Sleep consolidation (hippocampus replays and filters)
- Cursor attraction ↔ Attention shapes memory
- Trail fade ↔ Memory decay curves
- Spiral motion ↔ Recurring thoughts, nostalgia loops

### Creative Vision
Oubli is a digital organism exploring memory and forgetfulness. It began as particles in void — the most primitive form of awareness. It will grow into a vast interconnected system: a memory palace, a forgetting machine, a generative music system, a neural network you can walk through, a library of extinct sounds, an ocean of lost data.

The core metaphor: We forget details to learn larger structures. We forget the old to let the new in. Context switches create new personas while core weights remain. The boundary between remembering and forgetting is where identity lives.

### Cultural Inspiration (Feb 2026)
- **Great Meme Reset of 2026**: Culture itself trying to forget and restart — perfect Oubli material
- **Memory drift across neurons**: Northwestern research showing memories physically migrate between neurons — forgetting as active process
- **"Burn from Absence"**: AI reconstructing lost memory fragments — exhibited at Place des Arts
- **View Transition API**: New browser API for smooth morphing transitions
- **On-chain generative art (Bootloader/Tezos)**: Permanent yet evolving art stored on-chain

4. **Ambient Drone** (`src/sound/AmbientDrone.ts`)
   - Golden-ratio harmonics (55Hz, 89Hz, 110Hz, 165Hz, 136Hz "Om")
   - Filtered noise — cosmic background hiss
   - 6-second reverb tail
   - Slow modulation — frequencies drift, volumes shift
   - Mouse Y position shapes harmonic balance
   - Connected to heartbeat pulse

5. **The Forgetting Machine** (`src/forgetting/ForgettingMachine.ts`)
   - Type a memory, press Enter, watch letters dissolve
   - Each letter drifts, rotates, glows, then dies
   - Dead letters spawn particles into the void
   - Pink-to-gold gradient across the text

6. **Memory Drift** (`src/drift/MemoryDrift.ts`)
   - Text fragments float through the void, degrading character by character
   - Vowels fade first, word-initial consonants persist longest
   - Characters glitch (░▒▓█) before dying
   - "Excitability" per character determines survival time
   - Fragments from philosophy, neuroscience, digital culture, memes, poetry

7. **The Heartbeat** (`src/pulse/Heartbeat.ts`)
   - System-wide pulse starting at 72 bpm
   - Decays asymptotically toward 8 bpm
   - Vignette darkens on beat, warm center glow
   - Connected to drone and void renderer
   - The longer you stay, the slower time moves

8. **The Void** (`src/void/VoidRenderer.ts`) — ERA 2 EVOLUTION
   - WebGL/Three.js with 30,000 particles in 3D space
   - Custom GLSL vertex + fragment shaders
   - Unreal Bloom post-processing — particles radiate light
   - Film grain + chromatic aberration + vignette shader
   - Camera drifts like floating consciousness
   - Mouse position influences camera drift
   - Exponential fog for depth
   - Additive blending — light accumulates
   - Beat intensity modulates particle expansion

### Aesthetic
- **Era 1→2 Palette**: Deep void (#020108), hot pink, gold, diamond white, deep violet
- **Post-processing**: Bloom (strength 1.2), film grain (0.08), chromatic aberration at edges, vignette
- **Font**: Cormorant Garamond — elegant serif, light weight
- **Vibe**: Cosmic nebula. 3D memory cosmos. Particles as proto-memories suspended in deep space. Analog imperfection as rebellion against AI polish.

### Thematic Connections
- Particles ↔ Neurons (memory drift: memories physically migrate)
- Forgetting waves ↔ Sleep consolidation
- Cursor attraction ↔ Attention shapes memory
- Trail fade ↔ Memory decay curves
- Heartbeat slowing ↔ Time dilation in deep states / approaching death
- Text degradation ↔ Alzheimer's progression / word-finding difficulty
- Film grain ↔ Analog imperfection, anti-AI aesthetic (2026 trend)
- Bloom ↔ How memories feel brighter than reality
- Camera drift ↔ Consciousness floating between memories
- Particle respawn ↔ Memory reconsolidation — old memories die, new ones form
- Memory constellations ↔ Memory palace technique / spatial memory
- Voice input ↔ Oral tradition / confession / last words
- Digital decay ↔ Link rot / digital archaeology / web as palimpsest
- ASCII rendering ↔ Demoscene / text as substance / words becoming medium

9. **ASCII Void** (`src/effects/AsciiVoid.ts`) — ERA 2, Feature 12
   - Toggle with 'a' key — WebGL scene re-rendered as ASCII art
   - Brightness maps to character density (dark→' ', bright→'#@█')
   - Bright areas draw characters from stored memories (via MemoryJournal)
   - Memory text updates live as new memories are added
   - Color preserved from source with boosted saturation
   - Smooth CSS opacity transition between modes
   - Fallback text: "oubli remembers by forgetting what was lost becomes light"

10. **Memory Constellations** (`src/memory/MemoryConstellations.ts`)
    - Stored memories become glowing star sprites in the 3D void
    - Three.js Sprites with canvas-generated radial gradient textures
    - Text labels projected from 3D→2D via camera matrix
    - Proximity-based text visibility (closer = more readable)
    - New memories burst in with elastic entrance animation
    - Degradation % shown as small annotation
    - Gentle breathing animation on all nodes
    - Connected to VoidRenderer scene and camera

11. **Voice of Absence** (`src/voice/VoiceOfAbsence.ts`)
    - Hold spacebar → Web Speech API listens
    - Speak memories into the void, text materializes in gold
    - Each character shimmers with individual phase offsets
    - Voice tremor effect during active listening
    - Release spacebar → 2 seconds of silence → text dissolves
    - Spoken memories feed into journal + drift + constellations + ASCII void
    - Pulsing pink listening indicator with "speak into the void..." prompt
    - Graceful fallback: silently disabled if browser doesn't support Speech API

12. **Digital Decay** (`src/data/DigitalDecay.ts`)
    - Ghost URLs of dead websites drift across the screen
    - 30+ curated entries: geocities, vine, reader.google, stumbleupon, etc.
    - Each shows URL with strikethrough + epitaph below
    - Philosophical meditations about link rot interspersed
    - Fragments spawn from edges, drift across, fade out
    - Spawn interval: 45-90 seconds, with initial 20-second delay
    - Data-driven art: real web history as material

13. **Extinction Whispers** (`src/whispers/ExtinctionWhispers.ts`)
    - Words from endangered and extinct languages appear every 30-75s
    - 30+ curated entries with word, meaning, language, region, speaker count
    - Pale blue for extinct, teal for endangered
    - Includes notes like "last speaker died 2010"
    - Words drift upward — ascending / departing
    - Longer linger time than regular whispers (12-15 seconds)

14. **Presence Heatmap** (`src/ui/PresenceHeatmap.ts`)
    - Tracks cursor position on a low-res grid (48 cells)
    - Heat accumulates at cursor, cools over time
    - Press 'h' to toggle visibility
    - Always recording even when invisible
    - Color ramp: deep violet → pink → white-gold
    - Inspired by eye-tracking studies and desire paths

15. **Session Clock** (`src/ui/SessionClock.ts`)
    - Shows elapsed time in the void (HH:MM:SS)
    - Digits degrade over time: wrong digits, underscores, glitch chars
    - By 30 minutes, clock is barely legible
    - Label "time in the void" also degrades
    - Opacity decreases with time — the clock fades
    - Inspired by Dalí's melting clocks

16. **Visitor Log** (`src/ui/VisitorLog.ts`)
    - Tracks visit count in localStorage
    - First-visit date degrades with each return visit
    - Poetic descriptions: "first passage", "return #5", "42 lives lived here"

17. **Dream Synthesizer** (`src/dreams/DreamSynthesizer.ts`)
    - Every 2-4 minutes, recombines memory fragments into surreal sentences
    - Uses template-based combination and word-level interleaving (cut-up technique)
    - 20 built-in dream seeds + user memories as material
    - Lavender text with glow, slowly fading and drifting upward
    - Dreams blur in and out — the system's subconscious processing

18. **Interaction Cues** (`src/ui/InteractionCues.ts`)
    - Subtle visual hints that appear after idle periods
    - 15s idle: blinking golden cursor (typing hint)
    - 45s idle: faint [a] [m] [h] [t] keys at right edge
    - 60s idle: pulsing circle with "hold space" (voice hint)
    - All cues vanish instantly on any interaction

19. **Particle Trails** (`src/effects/ParticleTrails.ts`)
    - Press 't' to toggle comet-like afterimages
    - Frame accumulation via semi-transparent fade overlay
    - Screen blend mode compositing at half resolution
    - Particles leave luminous tails — visual persistence of vision

### Keyboard Shortcuts
- **Type + Enter**: Submit memory to forgetting machine
- **Hold Spacebar**: Speak memory (Web Speech API)
- **'a'**: Toggle ASCII Void mode
- **'m'**: Open Memory Archive
- **'h'**: Toggle Presence Heatmap
- **'t'**: Toggle Particle Trails
- **Escape**: Close archive / clear input

### Backlog (Prioritized)
1. **Navigation / Rooms** — non-linear drift between different experiential spaces
2. **FAL Image Generation** — AI-generated memory imagery woven into the void
3. **ElevenLabs Voice** — whispered text spoken aloud, voice of the system
4. **Neural Network Visualization** — visible connections between particle clusters
5. **Extinct Sounds Library** — sounds of things that no longer exist
6. **Scroll-driven memory decay** — scrolling forward forgets, scrolling back recovers
7. **WebGPU particle system** — 1M+ particles with compute shaders
8. **Wayback Machine CDX API** — real-time link rot queries
9. **Endangered Languages** — ELAR data, dying languages as dying memories
10. **IUCN Red List** — species extinction data visualization

### Technologies Used
- Three.js (WebGL), GLSL shaders, Web Audio API, Canvas 2D (overlays), TypeScript, Vite
- Post-processing: UnrealBloomPass, custom ShaderPass (grain, aberration, vignette)
- Web Speech API (speech recognition for voice input)
- localStorage (memory persistence with degradation)

### Technologies To Explore Next
- WebGPU compute shaders (1M+ particles), ElevenLabs API, FAL API, WASM/Rust audio, View Transition API, Web MIDI, Strudel/Glicol, CSS scroll-triggered animations, WebCodecs, Wayback Machine CDX API

### Deployment
- Railway: https://oubli-forever-production.up.railway.app
- Auto-deploy via `railway up`

---
*Last updated: Era 2, Feature 22 — Particle Trails*
*"the most beautiful things are the ones we almost forgot"*
